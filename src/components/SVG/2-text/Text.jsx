import s from './Text.module.scss';
import {useEffect, useRef, useState} from "react";
import {gsap} from 'gsap';
import {Link} from "react-router-dom";

const Text = () => {

  const circleRefs = useRef([])
  const textRef = useRef([])
  const houseRef = useRef([])


  // gsap.registerPlugin(GSDevTools)

  const setRef = (el) => {
    circleRefs.current && !circleRefs.current.includes(el) && circleRefs.current.push(el)
  }

  const setTextRef = (el) => {
    textRef.current && !textRef.current.includes(el) && textRef.current.push(el)
  }


  useEffect(() => {


    // GSDevTools.create()

    // document.fonts.load('1em "Bungee"').then(() => {

    gsap.timeline()
      .fromTo(circleRefs.current,
        {scale: 0, transformOrigin: "50% 50%", duration: 1, ease: 'power2.inOut'},
        {scale: 5, stagger: {each: 0.1}})
      .from(textRef.current, {scale: 0, ease: "back(3)", transformOrigin: "50% 50%", stagger: .05}, '-=.4')
      .from(houseRef.current, {
        attr: {
          points: "100 250 400 250 400 250 250 250 100 250"
        }, ease: "bounce", duration: 1
      }, 0)

  }, []);


  return (
    <div className='container'>
      <Link to='/svg'>SVG-Home</Link>

      <div className={s.wrapper}>

        <div className={s.wrap}>
          <svg className={s.svg} width="500" height="500">
            <circle ref={setRef} cx="250" cy="250" r="100" fill="red" fillOpacity=".2"/>
            <circle ref={setRef} cx="250" cy="250" r="100" fill="red" fillOpacity=".2"/>
            <circle ref={setRef} cx="250" cy="250" r="100" fill="red" fillOpacity=".2"/>
          </svg>
          <svg className={s.svgText} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" width="440" height="440">
            <path ref={setTextRef}
                  d="M 44.363 30.917 L 39.183 47.669 L 56.486 47.669 L 51.307 30.917 Q 50.866 29.925 50.37 29.484 Q 49.874 29.043 49.213 29.043 L 46.457 29.043 Q 45.796 29.043 45.3 29.484 Q 44.804 29.925 44.363 30.917 Z M 38.081 83.156 Q 38.081 85.25 37.145 86.187 Q 36.208 87.124 34.114 87.124 L 17.913 87.124 Q 15.819 87.124 14.882 86.187 Q 13.945 85.25 13.945 83.156 L 13.945 54.061 Q 13.945 50.755 14.992 46.457 Q 16.039 42.158 18.244 36.427 L 27.832 11.41 Q 28.493 9.536 29.871 8.654 Q 31.248 7.773 33.453 7.773 L 63.099 7.773 Q 65.193 7.773 66.571 8.654 Q 67.948 9.536 68.61 11.41 L 78.198 36.427 Q 80.402 42.158 81.449 46.457 Q 82.496 50.755 82.496 54.061 L 82.496 83.156 Q 82.496 85.25 81.559 86.187 Q 80.622 87.124 78.528 87.124 L 61.887 87.124 Q 59.682 87.124 58.635 86.187 Q 57.589 85.25 57.589 83.156 L 57.589 67.727 L 38.081 67.727 Z M 116.508 87.124 L 99.977 87.124 Q 97.883 87.124 96.946 86.187 Q 96.009 85.25 96.009 83.156 L 96.009 11.74 Q 96.009 9.646 96.946 8.71 Q 97.883 7.773 99.977 7.773 L 111.438 7.773 Q 113.532 7.773 115.02 8.434 Q 116.508 9.095 117.941 10.748 L 139.322 35.215 L 139.322 11.74 Q 139.322 9.646 140.258 8.71 Q 141.195 7.773 143.289 7.773 L 159.821 7.773 Q 161.915 7.773 162.851 8.71 Q 163.788 9.646 163.788 11.74 L 163.788 83.156 Q 163.788 85.25 162.851 86.187 Q 161.915 87.124 159.821 87.124 L 143.289 87.124 Q 141.195 87.124 140.258 86.187 Q 139.322 85.25 139.322 83.156 L 139.322 69.601 L 120.476 46.787 L 120.476 83.156 Q 120.476 85.25 119.539 86.187 Q 118.602 87.124 116.508 87.124 Z M 181.208 87.124 Q 179.114 87.124 178.177 86.187 Q 177.24 85.25 177.24 83.156 L 177.24 70.041 Q 177.24 67.947 178.177 67.011 Q 179.114 66.074 181.208 66.074 L 192.119 66.074 L 192.119 29.043 L 181.208 29.043 Q 179.114 29.043 178.177 28.107 Q 177.24 27.17 177.24 25.076 L 177.24 11.74 Q 177.24 9.646 178.177 8.71 Q 179.114 7.773 181.208 7.773 L 228.157 7.773 Q 230.251 7.773 231.188 8.71 Q 232.125 9.646 232.125 11.74 L 232.125 25.076 Q 232.125 27.17 231.188 28.107 Q 230.251 29.043 228.157 29.043 L 217.467 29.043 L 217.467 66.074 L 228.157 66.074 Q 230.251 66.074 231.188 67.011 Q 232.125 67.947 232.125 70.041 L 232.125 83.156 Q 232.125 85.25 231.188 86.187 Q 230.251 87.124 228.157 87.124 Z M 266.047 87.124 L 249.625 87.124 Q 247.531 87.124 246.594 86.187 Q 245.658 85.25 245.658 83.156 L 245.658 11.74 Q 245.658 9.646 246.594 8.71 Q 247.531 7.773 249.625 7.773 L 267.369 7.773 Q 269.132 7.773 270.29 8.544 Q 271.447 9.316 272.439 11.079 L 282.358 29.043 Q 282.909 30.035 283.294 30.476 Q 283.68 30.917 284.341 30.917 L 285.333 30.917 Q 285.995 30.917 286.38 30.476 Q 286.766 30.035 287.317 29.043 L 297.126 11.079 Q 298.118 9.316 299.275 8.544 Q 300.432 7.773 302.195 7.773 L 320.049 7.773 Q 322.143 7.773 323.08 8.71 Q 324.017 9.646 324.017 11.74 L 324.017 83.156 Q 324.017 85.25 323.08 86.187 Q 322.143 87.124 320.049 87.124 L 303.077 87.124 Q 300.983 87.124 300.046 86.187 Q 299.11 85.25 299.11 83.156 L 299.11 44.363 L 292.607 56.375 Q 291.615 58.249 290.238 59.076 Q 288.86 59.902 286.766 59.902 L 282.358 59.902 Q 280.264 59.902 278.886 59.076 Q 277.508 58.249 276.516 56.375 L 270.014 44.363 L 270.014 83.156 Q 270.014 85.25 269.077 86.187 Q 268.141 87.124 266.047 87.124 Z M 367.981 30.917 L 362.802 47.669 L 380.105 47.669 L 374.925 30.917 Q 374.484 29.925 373.988 29.484 Q 373.492 29.043 372.831 29.043 L 370.075 29.043 Q 369.414 29.043 368.918 29.484 Q 368.422 29.925 367.981 30.917 Z M 361.699 83.156 Q 361.699 85.25 360.763 86.187 Q 359.826 87.124 357.732 87.124 L 341.531 87.124 Q 339.437 87.124 338.5 86.187 Q 337.563 85.25 337.563 83.156 L 337.563 54.061 Q 337.563 50.755 338.61 46.457 Q 339.657 42.158 341.862 36.427 L 351.45 11.41 Q 352.111 9.536 353.489 8.654 Q 354.866 7.773 357.071 7.773 L 386.717 7.773 Q 388.811 7.773 390.189 8.654 Q 391.566 9.536 392.228 11.41 L 401.816 36.427 Q 404.02 42.158 405.067 46.457 Q 406.114 50.755 406.114 54.061 L 406.114 83.156 Q 406.114 85.25 405.177 86.187 Q 404.241 87.124 402.147 87.124 L 385.505 87.124 Q 383.301 87.124 382.254 86.187 Q 381.207 85.25 381.207 83.156 L 381.207 67.727 L 361.699 67.727 Z M 452.728 87.124 L 434.874 87.124 Q 432.78 87.124 431.844 86.187 Q 430.907 85.25 430.907 83.156 L 430.907 29.043 L 414.706 29.043 Q 412.612 29.043 411.675 28.107 Q 410.738 27.17 410.738 25.076 L 410.738 11.74 Q 410.738 9.646 411.675 8.71 Q 412.612 7.773 414.706 7.773 L 472.897 7.773 Q 474.991 7.773 475.928 8.71 Q 476.864 9.646 476.864 11.74 L 476.864 25.076 Q 476.864 27.17 475.928 28.107 Q 474.991 29.043 472.897 29.043 L 456.696 29.043 L 456.696 83.156 Q 456.696 85.25 455.759 86.187 Q 454.822 87.124 452.728 87.124 Z M 542.678 87.124 L 491.541 87.124 Q 489.447 87.124 488.51 86.187 Q 487.573 85.25 487.573 83.156 L 487.573 11.74 Q 487.573 9.646 488.51 8.71 Q 489.447 7.773 491.541 7.773 L 542.678 7.773 Q 544.772 7.773 545.709 8.71 Q 546.646 9.646 546.646 11.74 L 546.646 24.635 Q 546.646 26.729 545.709 27.666 Q 544.772 28.602 542.678 28.602 L 512.26 28.602 L 512.26 37.089 L 533.751 37.089 Q 535.845 37.089 536.782 38.025 Q 537.719 38.962 537.719 41.056 L 537.719 52.849 Q 537.719 54.943 536.782 55.879 Q 535.845 56.816 533.751 56.816 L 512.26 56.816 L 512.26 66.294 L 542.678 66.294 Q 544.772 66.294 545.709 67.231 Q 546.646 68.168 546.646 70.262 L 546.646 83.156 Q 546.646 85.25 545.709 86.187 Q 544.772 87.124 542.678 87.124 Z"
                  transform="matrix(0.6475570797920227, 0, 0, 0.6351490020751953, 76.17024230957031, 21.320653915405273)"/>
            <path ref={setTextRef}
                  d="M 211.047 121.041 L 202.385 121.041 Q 201.864 121.041 201.631 120.808 Q 201.398 120.575 201.398 120.054 L 201.398 116.847 Q 201.398 116.326 201.631 116.093 Q 201.864 115.86 202.385 115.86 L 209.759 115.86 Q 210.115 115.86 210.293 115.627 Q 210.471 115.394 210.471 115.065 Q 210.471 114.599 210.293 114.38 Q 210.115 114.161 209.759 114.133 L 205.647 113.557 Q 203.728 113.283 202.563 112.296 Q 201.398 111.31 201.398 109.007 L 201.398 106.129 Q 201.398 103.799 202.906 102.551 Q 204.413 101.304 207.072 101.304 L 214.748 101.304 Q 215.269 101.304 215.502 101.537 Q 215.735 101.77 215.735 102.291 L 215.735 105.553 Q 215.735 106.074 215.502 106.307 Q 215.269 106.54 214.748 106.54 L 208.361 106.54 Q 208.004 106.54 207.813 106.773 Q 207.621 107.006 207.621 107.362 Q 207.621 107.719 207.813 107.965 Q 208.004 108.212 208.361 108.239 L 212.445 108.788 Q 214.364 109.062 215.543 110.049 Q 216.722 111.036 216.722 113.338 L 216.722 116.216 Q 216.722 118.546 215.2 119.794 Q 213.679 121.041 211.047 121.041 Z M 231.249 121.041 L 224.122 121.041 Q 223.601 121.041 223.258 120.849 Q 222.916 120.657 222.724 120.136 L 220.037 113.42 Q 219.791 112.817 219.626 112.365 Q 219.462 111.913 219.352 111.502 Q 219.242 111.09 219.201 110.638 Q 219.16 110.186 219.16 109.528 L 219.16 102.291 Q 219.16 101.77 219.393 101.537 Q 219.626 101.304 220.147 101.304 L 224.506 101.304 Q 225.026 101.304 225.301 101.537 Q 225.575 101.77 225.575 102.291 L 225.575 109.857 Q 225.575 110.131 225.63 110.405 Q 225.684 110.679 225.794 110.981 L 227.082 114.818 Q 227.165 115.093 227.274 115.188 Q 227.384 115.284 227.603 115.284 L 227.905 115.284 Q 228.124 115.284 228.234 115.188 Q 228.343 115.093 228.426 114.818 L 229.714 110.953 Q 229.824 110.652 229.878 110.378 Q 229.933 110.103 229.933 109.829 L 229.933 102.291 Q 229.933 101.77 230.166 101.537 Q 230.399 101.304 230.92 101.304 L 235.224 101.304 Q 235.745 101.304 235.978 101.537 Q 236.211 101.77 236.211 102.291 L 236.211 109.528 Q 236.211 110.186 236.17 110.638 Q 236.128 111.09 236.019 111.502 Q 235.909 111.913 235.745 112.365 Q 235.58 112.817 235.334 113.42 L 232.647 120.136 Q 232.455 120.657 232.113 120.849 Q 231.77 121.041 231.249 121.041 Z M 254.658 121.041 L 246.024 121.041 Q 242.597 121.041 240.939 119.67 Q 239.28 118.3 239.28 115.449 L 239.28 106.896 Q 239.28 104.045 240.939 102.675 Q 242.597 101.304 246.024 101.304 L 252.877 101.304 Q 253.397 101.304 253.63 101.537 Q 253.863 101.77 253.863 102.291 L 253.863 105.608 Q 253.863 106.129 253.63 106.362 Q 253.397 106.595 252.877 106.595 L 247.175 106.595 Q 246.325 106.595 245.914 106.937 Q 245.503 107.28 245.503 107.965 L 245.503 114.517 Q 245.503 115.202 245.818 115.531 Q 246.133 115.86 246.764 115.86 L 249.423 115.86 L 249.423 111.584 Q 249.423 111.063 249.656 110.83 Q 249.889 110.597 250.41 110.597 L 254.658 110.597 Q 255.179 110.597 255.412 110.83 Q 255.645 111.063 255.645 111.584 L 255.645 120.054 Q 255.645 120.575 255.412 120.808 Q 255.179 121.041 254.658 121.041 Z"
                  transform="matrix(6.145441055297852, 0, 0, 6.566384792327881, -1146.9005126953125, -559.74560546875)"/>
            <path ref={setTextRef}
                  d="M 250.995 262.219 L 261.425 262.219 Q 262.755 262.219 263.35 262.814 Q 263.945 263.409 263.945 264.739 L 263.945 291.899 Q 263.945 294.139 263.77 296.064 Q 263.595 297.989 262.685 300.579 L 259.185 310.099 Q 258.835 311.149 258.17 311.884 Q 257.505 312.619 256.385 312.619 L 247.075 312.619 Q 245.955 312.619 245.045 312.129 Q 244.135 311.639 243.855 310.519 L 240.635 299.109 Q 240.425 298.409 240.11 298.164 Q 239.795 297.919 239.375 297.919 L 238.745 297.919 Q 238.325 297.919 238.01 298.164 Q 237.695 298.409 237.485 299.109 L 234.195 310.519 Q 233.915 311.569 233.145 312.094 Q 232.375 312.619 231.255 312.619 L 222.015 312.619 Q 220.895 312.619 220.09 311.919 Q 219.285 311.219 218.935 310.099 L 215.435 300.439 Q 214.525 297.849 214.35 295.924 Q 214.175 293.999 214.175 291.759 L 214.175 264.739 Q 214.175 263.409 214.77 262.814 Q 215.365 262.219 216.695 262.219 L 227.475 262.219 Q 228.805 262.219 229.4 262.814 Q 229.995 263.409 229.995 264.739 L 229.995 290.499 L 234.055 281.679 Q 234.615 280.489 235.525 279.999 Q 236.435 279.509 237.765 279.509 L 240.705 279.509 Q 242.035 279.509 242.945 279.999 Q 243.855 280.489 244.415 281.679 L 248.475 290.499 L 248.475 264.739 Q 248.475 263.409 249.07 262.814 Q 249.665 262.219 250.995 262.219 Z M 274.363 312.619 Q 273.033 312.619 272.438 312.024 Q 271.843 311.429 271.843 310.099 L 271.843 301.769 Q 271.843 300.439 272.438 299.844 Q 273.033 299.249 274.363 299.249 L 281.293 299.249 L 281.293 275.729 L 274.363 275.729 Q 273.033 275.729 272.438 275.134 Q 271.843 274.539 271.843 273.209 L 271.843 264.739 Q 271.843 263.409 272.438 262.814 Q 273.033 262.219 274.363 262.219 L 304.183 262.219 Q 305.513 262.219 306.108 262.814 Q 306.703 263.409 306.703 264.739 L 306.703 273.209 Q 306.703 274.539 306.108 275.134 Q 305.513 275.729 304.183 275.729 L 297.393 275.729 L 297.393 299.249 L 304.183 299.249 Q 305.513 299.249 306.108 299.844 Q 306.703 300.439 306.703 301.769 L 306.703 310.099 Q 306.703 311.429 306.108 312.024 Q 305.513 312.619 304.183 312.619 Z M 339.097 312.619 L 327.757 312.619 Q 326.427 312.619 325.832 312.024 Q 325.237 311.429 325.237 310.099 L 325.237 275.729 L 314.947 275.729 Q 313.617 275.729 313.022 275.134 Q 312.427 274.539 312.427 273.209 L 312.427 264.739 Q 312.427 263.409 313.022 262.814 Q 313.617 262.219 314.947 262.219 L 351.907 262.219 Q 353.237 262.219 353.832 262.814 Q 354.427 263.409 354.427 264.739 L 354.427 273.209 Q 354.427 274.539 353.832 275.134 Q 353.237 275.729 351.907 275.729 L 341.617 275.729 L 341.617 310.099 Q 341.617 311.429 341.022 312.024 Q 340.427 312.619 339.097 312.619 Z M 374.598 312.619 L 363.748 312.619 Q 362.418 312.619 361.823 312.024 Q 361.228 311.429 361.228 310.099 L 361.228 264.739 Q 361.228 263.409 361.823 262.814 Q 362.418 262.219 363.748 262.219 L 374.598 262.219 Q 375.928 262.219 376.523 262.814 Q 377.118 263.409 377.118 264.739 L 377.118 279.929 L 388.808 279.929 L 388.808 264.739 Q 388.808 263.409 389.403 262.814 Q 389.998 262.219 391.328 262.219 L 402.178 262.219 Q 403.508 262.219 404.103 262.814 Q 404.698 263.409 404.698 264.739 L 404.698 310.099 Q 404.698 311.429 404.103 312.024 Q 403.508 312.619 402.178 312.619 L 391.328 312.619 Q 389.998 312.619 389.403 312.024 Q 388.808 311.429 388.808 310.099 L 388.808 294.559 L 377.118 294.559 L 377.118 310.099 Q 377.118 311.429 376.523 312.024 Q 375.928 312.619 374.598 312.619 Z"
                  transform="matrix(1.7467169761657715, 0.010285000316798687, 0, 1, -281.01690673828125, 18.885478973388672)"/>
            <path ref={setTextRef}
                  d="M 145.785 494.2 L 89.085 494.2 Q 66.585 494.2 55.695 485.2 Q 44.805 476.2 44.805 457.48 L 44.805 401.32 Q 44.805 382.6 55.695 373.6 Q 66.585 364.6 89.085 364.6 L 134.085 364.6 Q 137.505 364.6 139.035 366.13 Q 140.565 367.66 140.565 371.08 L 140.565 392.86 Q 140.565 396.28 139.035 397.81 Q 137.505 399.34 134.085 399.34 L 96.645 399.34 Q 91.065 399.34 88.365 401.59 Q 85.665 403.84 85.665 408.34 L 85.665 451.36 Q 85.665 455.86 87.735 458.02 Q 89.805 460.18 93.945 460.18 L 111.405 460.18 L 111.405 432.1 Q 111.405 428.68 112.935 427.15 Q 114.465 425.62 117.885 425.62 L 145.785 425.62 Q 149.205 425.62 150.735 427.15 Q 152.265 428.68 152.265 432.1 L 152.265 487.72 Q 152.265 491.14 150.735 492.67 Q 149.205 494.2 145.785 494.2 Z M 234.332 494.2 L 177.452 494.2 Q 174.032 494.2 172.502 492.67 Q 170.972 491.14 170.972 487.72 L 170.972 466.66 Q 170.972 463.24 172.502 461.71 Q 174.032 460.18 177.452 460.18 L 225.872 460.18 Q 228.212 460.18 229.382 458.65 Q 230.552 457.12 230.552 454.96 Q 230.552 451.9 229.382 450.46 Q 228.212 449.02 225.872 448.84 L 198.872 445.06 Q 186.272 443.26 178.622 436.78 Q 170.972 430.3 170.972 415.18 L 170.972 396.28 Q 170.972 380.98 180.872 372.79 Q 190.772 364.6 208.232 364.6 L 258.632 364.6 Q 262.052 364.6 263.582 366.13 Q 265.112 367.66 265.112 371.08 L 265.112 392.5 Q 265.112 395.92 263.582 397.45 Q 262.052 398.98 258.632 398.98 L 216.692 398.98 Q 214.352 398.98 213.092 400.51 Q 211.832 402.04 211.832 404.38 Q 211.832 406.72 213.092 408.34 Q 214.352 409.96 216.692 410.14 L 243.512 413.74 Q 256.112 415.54 263.852 422.02 Q 271.592 428.5 271.592 443.62 L 271.592 462.52 Q 271.592 477.82 261.602 486.01 Q 251.612 494.2 234.332 494.2 Z M 338.195 402.4 L 329.735 429.76 L 357.995 429.76 L 349.535 402.4 Q 348.815 400.78 348.005 400.06 Q 347.195 399.34 346.115 399.34 L 341.615 399.34 Q 340.535 399.34 339.725 400.06 Q 338.915 400.78 338.195 402.4 Z M 327.935 487.72 Q 327.935 491.14 326.405 492.67 Q 324.875 494.2 321.455 494.2 L 294.995 494.2 Q 291.575 494.2 290.045 492.67 Q 288.515 491.14 288.515 487.72 L 288.515 440.2 Q 288.515 434.8 290.225 427.78 Q 291.935 420.76 295.535 411.4 L 311.195 370.54 Q 312.275 367.48 314.525 366.04 Q 316.775 364.6 320.375 364.6 L 368.795 364.6 Q 372.215 364.6 374.465 366.04 Q 376.715 367.48 377.795 370.54 L 393.455 411.4 Q 397.055 420.76 398.765 427.78 Q 400.475 434.8 400.475 440.2 L 400.475 487.72 Q 400.475 491.14 398.945 492.67 Q 397.415 494.2 393.995 494.2 L 366.815 494.2 Q 363.215 494.2 361.505 492.67 Q 359.795 491.14 359.795 487.72 L 359.795 462.52 L 327.935 462.52 Z M 456.972 494.2 L 429.072 494.2 Q 425.652 494.2 424.122 492.67 Q 422.592 491.14 422.592 487.72 L 422.592 371.08 Q 422.592 367.66 424.122 366.13 Q 425.652 364.6 429.072 364.6 L 484.152 364.6 Q 508.632 364.6 517.632 374.32 Q 526.632 384.04 526.632 399.7 L 526.632 422.74 Q 526.632 438.4 517.632 448.12 Q 508.632 457.84 484.152 457.84 L 463.452 457.84 L 463.452 487.72 Q 463.452 491.14 461.922 492.67 Q 460.392 494.2 456.972 494.2 Z M 463.092 398.26 L 463.092 425.44 L 479.292 425.44 Q 484.512 425.44 486.132 422.74 Q 487.752 420.04 487.752 416.62 L 487.752 407.08 Q 487.752 403.66 486.132 400.96 Q 484.512 398.26 479.292 398.26 Z"
                  transform="matrix(0.7165849804878235, 0, 0, 1, 49.751277923583984, 0.3652040064334585)"/>
          </svg>
        </div>

        <div>
          <svg className={s.house} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" width="400" height="400">

            <polygon ref={houseRef}
                     points="100 250 400 250 400 100 250 50 100 100"></polygon>
            <line className={s.line} x1="100" y1="250" x2="400" y2="250"  />  
          </svg>
        </div>
      </div>
    </div>

  );
};

export default Text;